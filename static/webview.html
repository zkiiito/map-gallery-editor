<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GoogleMap</title>
    <style>
        html, body {
            padding: 0;
            margin: 0;
            height: 100%;
        }

        #map_canvas {
            height: 100%;
        }
    </style>
</head>
<body>
<div id="map_canvas"></div>
<script src="./MapGallery/scripts/MapAnimator.js"></script>
<script src="https://maps.googleapis.com/maps/api/js"></script>
<script src="./MapGallery/scripts/v3_epoly.js"></script>
<script>
    /* global sendError, MapAnimator */
    function initMap() {
        MapAnimator.tick = 40;
        MapAnimator.step = 1200;
        MapAnimator.animationTriggerEvent = 'center_changed';
        MapAnimator.initialize();
    }

    function showRoute(route) {
        MapAnimator.showRoute(route, (err) => {
            sendError(err);
        });
    }

    function worldViewFit() {
        const mapObj = MapAnimator.map;
        const worldBounds = new google.maps.LatLngBounds(
            new google.maps.LatLng(70.4043, -143.5291),   //Top-left
            new google.maps.LatLng(-46.11251, 163.4288),  //Bottom-right
        );
        mapObj.fitBounds(worldBounds, 0);
        const actualBounds = mapObj.getBounds();
        if (actualBounds.getSouthWest().lng() === -180 && actualBounds.getNorthEast().lng() === 180) {
            mapObj.setZoom(mapObj.getZoom() + 1);
        }
    }

    initMap();
</script>
</body>
</html>
